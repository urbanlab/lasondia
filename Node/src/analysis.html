<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>
    <link rel="stylesheet" href="/src/style.css">
    <link rel="stylesheet" href="/src/analysis.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
</head>

<body class="noselect">
    <div id="nav-placeholder"></div>


    <div class="content">

        <div id="title"></div>


        <div id='menu'>
            
            <div id='left_menu'>

                <div class='comment_cell' id='comment_segment_cell'>
                    <label for="comment" class='label_input' id='label_segment'> Commentaire de la boucle: </label>
                    <input type='text' class='text_input comment' id='comment_segment'>
                    <div class='button validation_button' id='validate_segment_comment' onclick='validate_segment_comment()'> OK </div>
                </div>

                <div class='comment_cell' id='comment_gommette_cell'>
                    <label for="comment" class='label_input' id='label_gommette'> Commentaire de la gommette: </label>
                    <input type='text' class='text_input comment' id='comment_gommette'>
                    <div class='button validation_button' id='validate_gommette_comment' onclick='validate_gommette_comment()'> OK </div>
                </div>                

            </div>

            <div id='right_menu'>

                <div id='edit_segment_cell'>
                    <div class='button button_edit_segments button_delete' id='delete_selected_segment' onclick="delete_selected_segment()"> Supprimer </div>
                    <div class='button button_edit_segments' id='cancel_edition_segment' onclick='cancel_edition()'> Annuler </div>
                    <div class='button button_edit_segments' id='return_to_menu_segment' onclick='return_to_menu()'> Terminé </div>
                </div>

                <div id='edit_gommette_cell'>
                    <div class='button button_edit_gommettes button_delete' id='delete_selected_gommette' onclick="delete_selected_gommette()"> Supprimer </div>
                    <div class='button button_edit_gommettes' id='cancel_edition_gommette' onclick='cancel_edition()'> Annuler </div>
                    <div class='button button_edit_gommettes' id='return_to_menu_gommette' onclick='return_to_menu()'> Terminé </div>
                </div>

            </div>

        </div>


        <div id="peaks-container"></div>


        <div id=forms>

            <form id='listen_form'>

                <div id="create_audio"></div>

                    <div class='choice_label'>ZOOM</div>
                    <div class='choice'>
                        <div class="button listening_button" id='zoomOut' onclick="zoomOut()">Zoom -</div>
                        <div class="button listening_button" id='zoomIn' onclick="zoomIn()">Zoom +</div>
                    </div>

                    <div class='choice_label'>MODE D'ECOUTE</div>
                    <div class='choice'>
                        <div class="button listening_button" id='continuous' onclick="continuous_mode()">Continu</div>
                        <div class="button listening_button" id='loop' onclick="loop_mode()">Boucle</div>
                    </div>

                    <div class='choice_label'>REPERES</div>
                    <div class='choice'>
                        <div class="button listening_button" id='previous' onclick="previous_landmark()"> <| </div>
                        <div class="button listening_button" id='next' onclick="next_landmark()"> |> </div>
                    </div>

                    <div class='choice_label'> VITESSE DE LECTURE</div>
                    <div class='choice'>
                        <div class="button listening_button speed_button" id='decrease_speed' onmousedown="eventHoldClick(decrease_speed, 350, $(this))"> - </div>
                        <div class="text_indication" id='percentage_indication'>  100% </div>
                        <div class="button listening_button speed_button" id='increase_speed' onmousedown="eventHoldClick(increase_speed, 350, $(this))"> + </div>
                    </div>
                    <div class='choice_label'>Mode</div>
                    <div class='choice'>
                        <div class="button listening_button" id='edit_mode' onclick="edit_mode()"> Passer en mode édition </div>
                    </div>


            </form>

            <form id='edit_form'>
                <div class="button edition_button" id='create_segment' onclick="create_segment()"> Nouvelle boucle </div>
                <div class="button edition_button" id='edit_segments' onclick="edit_segments()"> Gérer les boucles </div>
                <div class="button edition_button" id='create_gommette' onclick="create_gommette()"> Nouvelle gommette </div>
                <div class="button edition_button" id='edit_gommettes' onclick="edit_gommettes()"> Gérer les gommettes </div>
                <div class="button edition_button" id='save_changes' onclick="save_changes()"> Sauvegarder les annotations </div>
                <div class="button edition_button" id='listening_mode' onclick="listening_mode()"> Retourner au mode lecture </div>
            </form>

        </div> 


        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>

        <script>
            var socket = io('http://192.168.70.119:8000/');
        </script>
        <script src="/src/analysis.js"></script>
    </div>


    <script src="/src/navbar_loader.js"></script>

</body>

</html>